{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\2282248\\\\Downloads\\\\CascadeProjects\\\\windsurf-project-enhanced\\\\frontend\\\\src\\\\components\\\\UserStatus.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getRoleFromToken() {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) return null;\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    return payload.role || payload.ROLE || payload.roles || payload.authorities || (payload.sub === 'admin' ? 'ADMIN' : 'USER');\n  } catch {\n    return null;\n  }\n}\nexport default function UserStatus() {\n  _s();\n  const navigate = useNavigate();\n  const role = getRoleFromToken();\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/');\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-4 right-4 z-50 flex flex-row-reverse items-center gap-3 bg-[#232946]/80 px-4 py-2 rounded-xl shadow-lg border border-[#a7c7e7]/40\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-cyan-200 font-bold text-sm\",\n      children: [\"Role: \", role || 'Unknown']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"ml-2 px-3 py-1 rounded-lg bg-gradient-to-r from-[#a7c7e7] to-[#5f5aa2] text-[#232946] font-bold shadow hover:bg-[#5f5aa2] text-xs\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(UserStatus, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = UserStatus;\nvar _c;\n$RefreshReg$(_c, \"UserStatus\");","map":{"version":3,"names":["React","useNavigate","jsxDEV","_jsxDEV","getRoleFromToken","token","localStorage","getItem","payload","JSON","parse","atob","split","role","ROLE","roles","authorities","sub","UserStatus","_s","navigate","handleLogout","removeItem","window","location","reload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/2282248/Downloads/CascadeProjects/windsurf-project-enhanced/frontend/src/components/UserStatus.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction getRoleFromToken() {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) return null;\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    return (\n      payload.role || payload.ROLE || payload.roles || payload.authorities || (payload.sub === 'admin' ? 'ADMIN' : 'USER')\n    );\n  } catch {\n    return null;\n  }\n}\n\nexport default function UserStatus() {\n  const navigate = useNavigate();\n  const role = getRoleFromToken();\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/');\n    window.location.reload();\n  };\n  return (\n    <div className=\"fixed top-4 right-4 z-50 flex flex-row-reverse items-center gap-3 bg-[#232946]/80 px-4 py-2 rounded-xl shadow-lg border border-[#a7c7e7]/40\">\n      <span className=\"text-cyan-200 font-bold text-sm\">Role: {role || 'Unknown'}</span>\n      <button\n        onClick={handleLogout}\n        className=\"ml-2 px-3 py-1 rounded-lg bg-gradient-to-r from-[#a7c7e7] to-[#5f5aa2] text-[#232946] font-bold shadow hover:bg-[#5f5aa2] text-xs\"\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,gBAAgBA,CAAA,EAAG;EAC1B,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,IAAI;IACvB,MAAMG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,OACEJ,OAAO,CAACK,IAAI,IAAIL,OAAO,CAACM,IAAI,IAAIN,OAAO,CAACO,KAAK,IAAIP,OAAO,CAACQ,WAAW,KAAKR,OAAO,CAACS,GAAG,KAAK,OAAO,GAAG,OAAO,GAAG,MAAM,CAAC;EAExH,CAAC,CAAC,MAAM;IACN,OAAO,IAAI;EACb;AACF;AAEA,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAMC,QAAQ,GAAGnB,WAAW,CAAC,CAAC;EAC9B,MAAMY,IAAI,GAAGT,gBAAgB,CAAC,CAAC;EAC/B,MAAMiB,YAAY,GAAGA,CAAA,KAAM;IACzBf,YAAY,CAACgB,UAAU,CAAC,OAAO,CAAC;IAChCF,QAAQ,CAAC,GAAG,CAAC;IACbG,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;EAC1B,CAAC;EACD,oBACEtB,OAAA;IAAKuB,SAAS,EAAC,6IAA6I;IAAAC,QAAA,gBAC1JxB,OAAA;MAAMuB,SAAS,EAAC,iCAAiC;MAAAC,QAAA,GAAC,QAAM,EAACd,IAAI,IAAI,SAAS;IAAA;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eAClF5B,OAAA;MACE6B,OAAO,EAAEX,YAAa;MACtBK,SAAS,EAAC,mIAAmI;MAAAC,QAAA,EAC9I;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACZ,EAAA,CAnBuBD,UAAU;EAAA,QACfjB,WAAW;AAAA;AAAAgC,EAAA,GADNf,UAAU;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}