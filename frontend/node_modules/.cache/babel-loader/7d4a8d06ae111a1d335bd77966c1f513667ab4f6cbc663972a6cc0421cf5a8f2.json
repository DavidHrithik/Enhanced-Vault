{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import AnimatedBackground from'../components/AnimatedBackground';import QuoteWidget from'../components/QuoteWidget';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();// Redirect to /home if already logged in and not on /login\nReact.useEffect(()=>{const token=localStorage.getItem('token');if(token&&window.location.pathname==='/login'){navigate('/home');}},[navigate]);const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);console.log('Login attempt:',username,password);try{const response=await fetch('http://localhost:8080/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});const data=await response.json();console.log('Login response:',response.status,data);if(response.ok&&data.token){localStorage.setItem('token',data.token);navigate('/home');}else{setError(data.error||'Login failed');}}catch(err){setError('Network error');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col justify-center items-center bg-gradient-to-br from-[#15161c]/90 via-[#232946]/95 to-[#1e2337]/90 relative overflow-hidden border border-[#232946]/60 shadow-2xl backdrop-blur-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-0 pointer-events-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-[120vw] h-[120vw] left-1/2 top-[-40vw] -translate-x-1/2 bg-gradient-to-tr from-[#a7c7e7]/30 via-[#5f5aa2]/20 to-[#232946]/0 rounded-full blur-3xl animate-pulse\"})}),/*#__PURE__*/_jsx(AnimatedBackground,{}),/*#__PURE__*/_jsx(\"main\",{className:\"relative z-10 flex flex-col items-center justify-center px-4 min-h-screen w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-[#232946]/40 backdrop-blur-3xl border border-[#a7c7e7]/20 shadow-md rounded-3xl p-8 flex flex-col items-center\",style:{boxShadow:'0 4px 16px 0 rgba(34, 41, 70, 0.15)',background:'linear-gradient(120deg, rgba(35,41,70,0.20) 40%, rgba(23,22,28,0.12) 100%)'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#a7c7e7] via-[#5f5aa2] to-[#7ea4c7] animate-gradient text-center drop-shadow-lg\",children:\"Sign in to your account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"w-full flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 font-semibold mb-1\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true,className:\"w-full px-4 py-2 rounded-xl bg-[#15161c]/70 border border-[#a7c7e7]/20 text-white focus:outline-none focus:ring-2 focus:ring-[#a7c7e7] placeholder:text-white/40\",placeholder:\"Enter your username\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 font-semibold mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,className:\"w-full px-4 py-2 rounded-xl bg-[#15161c]/70 border border-[#a7c7e7]/20 text-white focus:outline-none focus:ring-2 focus:ring-[#a7c7e7] placeholder:text-white/40\",placeholder:\"Enter your password\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-300 font-semibold text-center\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-gradient-to-r from-[#232946] via-[#5f5aa2] to-[#15161c] text-[#a7c7e7] font-bold py-2 rounded-xl shadow-lg hover:from-[#5f5aa2] hover:to-[#a7c7e7] hover:text-white transition-all duration-200 disabled:opacity-60 border border-[#a7c7e7]/30\",disabled:loading,children:loading?'Logging in...':'Login'})]})]})}),/*#__PURE__*/_jsx(QuoteWidget,{})]});};export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","AnimatedBackground","QuoteWidget","jsx","_jsx","jsxs","_jsxs","LoginPage","username","setUsername","password","setPassword","error","setError","loading","setLoading","navigate","useEffect","token","localStorage","getItem","window","location","pathname","handleSubmit","e","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","status","ok","setItem","err","className","children","style","boxShadow","background","onSubmit","type","value","onChange","target","required","placeholder","disabled"],"sources":["C:/Users/2282248/Downloads/CascadeProjects/windsurf-project-enhanced/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AnimatedBackground from '../components/AnimatedBackground';\nimport QuoteWidget from '../components/QuoteWidget';\n\nconst LoginPage = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Redirect to /home if already logged in and not on /login\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token && window.location.pathname === '/login') {\n      navigate('/home');\n    }\n  }, [navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    console.log('Login attempt:', username, password);\n    try {\n      const response = await fetch('http://localhost:8080/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n      });\n      const data = await response.json();\n      console.log('Login response:', response.status, data);\n      if (response.ok && data.token) {\n        localStorage.setItem('token', data.token);\n        navigate('/home');\n      } else {\n        setError(data.error || 'Login failed');\n      }\n    } catch (err) {\n      setError('Network error');\n    }\n    setLoading(false);\n  };\n\n\n  return (\n    <div className=\"min-h-screen flex flex-col justify-center items-center bg-gradient-to-br from-[#15161c]/90 via-[#232946]/95 to-[#1e2337]/90 relative overflow-hidden border border-[#232946]/60 shadow-2xl backdrop-blur-xl\">\n      {/* Animated Background */}\n      <div className=\"fixed inset-0 z-0 pointer-events-none\">\n        <div className=\"absolute w-[120vw] h-[120vw] left-1/2 top-[-40vw] -translate-x-1/2 bg-gradient-to-tr from-[#a7c7e7]/30 via-[#5f5aa2]/20 to-[#232946]/0 rounded-full blur-3xl animate-pulse\"></div>\n      </div>\n      <AnimatedBackground />\n      <main className=\"relative z-10 flex flex-col items-center justify-center px-4 min-h-screen w-full\">\n        <div className=\"w-full max-w-md bg-[#232946]/40 backdrop-blur-3xl border border-[#a7c7e7]/20 shadow-md rounded-3xl p-8 flex flex-col items-center\" style={{boxShadow: '0 4px 16px 0 rgba(34, 41, 70, 0.15)', background: 'linear-gradient(120deg, rgba(35,41,70,0.20) 40%, rgba(23,22,28,0.12) 100%)'}}>\n          <h2 className=\"text-3xl font-extrabold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#a7c7e7] via-[#5f5aa2] to-[#7ea4c7] animate-gradient text-center drop-shadow-lg\">Sign in to your account</h2>\n          <form onSubmit={handleSubmit} className=\"w-full flex flex-col gap-4\">\n            <div>\n              <label className=\"block text-white/80 font-semibold mb-1\">Username</label>\n              <input\n                type=\"text\"\n                value={username}\n                onChange={e => setUsername(e.target.value)}\n                required\n                className=\"w-full px-4 py-2 rounded-xl bg-[#15161c]/70 border border-[#a7c7e7]/20 text-white focus:outline-none focus:ring-2 focus:ring-[#a7c7e7] placeholder:text-white/40\"\n                placeholder=\"Enter your username\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-white/80 font-semibold mb-1\">Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                required\n                className=\"w-full px-4 py-2 rounded-xl bg-[#15161c]/70 border border-[#a7c7e7]/20 text-white focus:outline-none focus:ring-2 focus:ring-[#a7c7e7] placeholder:text-white/40\"\n                placeholder=\"Enter your password\"\n              />\n            </div>\n            {error && <div className=\"text-red-300 font-semibold text-center\">{error}</div>}\n            <button\n              type=\"submit\"\n              className=\"w-full bg-gradient-to-r from-[#232946] via-[#5f5aa2] to-[#15161c] text-[#a7c7e7] font-bold py-2 rounded-xl shadow-lg hover:from-[#5f5aa2] hover:to-[#a7c7e7] hover:text-white transition-all duration-200 disabled:opacity-60 border border-[#a7c7e7]/30\"\n              disabled={loading}\n            >\n              {loading ? 'Logging in...' : 'Login'}\n            </button>\n          </form>\n        </div>\n      </main>\n        <QuoteWidget />\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}