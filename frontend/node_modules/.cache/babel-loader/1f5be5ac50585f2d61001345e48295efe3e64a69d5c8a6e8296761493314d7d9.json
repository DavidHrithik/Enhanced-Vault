{"ast":null,"code":"import React from\"react\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function getRoleFromToken(){try{const token=localStorage.getItem('token');if(!token)return null;const payload=JSON.parse(atob(token.split('.')[1]));return payload.role||payload.ROLE||payload.roles||payload.authorities||(payload.sub==='admin'?'ADMIN':'USER');}catch{return null;}}export default function UserStatus(){const navigate=useNavigate();const role=getRoleFromToken();const handleLogout=()=>{localStorage.removeItem('token');navigate('/');window.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-4 right-4 z-50 flex flex-row-reverse items-center gap-3 bg-[#232946]/80 px-4 py-2 rounded-xl shadow-lg border border-[#a7c7e7]/40\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-cyan-200 font-bold text-sm\",children:[\"Role: \",role||'Unknown']}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"ml-2 px-3 py-1 rounded-lg bg-gradient-to-r from-[#a7c7e7] to-[#5f5aa2] text-[#232946] font-bold shadow hover:bg-[#5f5aa2] text-xs\",children:\"Logout\"})]});}","map":{"version":3,"names":["React","useNavigate","jsxs","_jsxs","jsx","_jsx","getRoleFromToken","token","localStorage","getItem","payload","JSON","parse","atob","split","role","ROLE","roles","authorities","sub","UserStatus","navigate","handleLogout","removeItem","window","location","reload","className","children","onClick"],"sources":["C:/Users/2282248/Downloads/CascadeProjects/windsurf-project-enhanced/frontend/src/components/UserStatus.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction getRoleFromToken() {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) return null;\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    return (\n      payload.role || payload.ROLE || payload.roles || payload.authorities || (payload.sub === 'admin' ? 'ADMIN' : 'USER')\n    );\n  } catch {\n    return null;\n  }\n}\n\nexport default function UserStatus() {\n  const navigate = useNavigate();\n  const role = getRoleFromToken();\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/');\n    window.location.reload();\n  };\n  return (\n    <div className=\"fixed top-4 right-4 z-50 flex flex-row-reverse items-center gap-3 bg-[#232946]/80 px-4 py-2 rounded-xl shadow-lg border border-[#a7c7e7]/40\">\n      <span className=\"text-cyan-200 font-bold text-sm\">Role: {role || 'Unknown'}</span>\n      <button\n        onClick={handleLogout}\n        className=\"ml-2 px-3 py-1 rounded-lg bg-gradient-to-r from-[#a7c7e7] to-[#5f5aa2] text-[#232946] font-bold shadow hover:bg-[#5f5aa2] text-xs\"\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE/C,QAAS,CAAAC,gBAAgBA,CAAA,CAAG,CAC1B,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,MAAO,KAAI,CACvB,KAAM,CAAAG,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACrD,MACE,CAAAJ,OAAO,CAACK,IAAI,EAAIL,OAAO,CAACM,IAAI,EAAIN,OAAO,CAACO,KAAK,EAAIP,OAAO,CAACQ,WAAW,GAAKR,OAAO,CAACS,GAAG,GAAK,OAAO,CAAG,OAAO,CAAG,MAAM,CAAC,CAExH,CAAE,KAAM,CACN,MAAO,KAAI,CACb,CACF,CAEA,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAAAC,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,IAAI,CAAGT,gBAAgB,CAAC,CAAC,CAC/B,KAAM,CAAAgB,YAAY,CAAGA,CAAA,GAAM,CACzBd,YAAY,CAACe,UAAU,CAAC,OAAO,CAAC,CAChCF,QAAQ,CAAC,GAAG,CAAC,CACbG,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CACD,mBACEvB,KAAA,QAAKwB,SAAS,CAAC,6IAA6I,CAAAC,QAAA,eAC1JzB,KAAA,SAAMwB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,QAAM,CAACb,IAAI,EAAI,SAAS,EAAO,CAAC,cAClFV,IAAA,WACEwB,OAAO,CAAEP,YAAa,CACtBK,SAAS,CAAC,mIAAmI,CAAAC,QAAA,CAC9I,QAED,CAAQ,CAAC,EACN,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}